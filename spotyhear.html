<!DOCTYPE html>
<html>
<script src="spoty.js"></script>
  <body>
  
  <h4>Test v0.00020<h4>
  <script>
  try{	
var redirect_uri = "https://cerobits.github.io/spotyhearinside.html";
var scopes = 'user-read-private user-read-email';
var  my_client_id= "7850e064845b4565aa3a1ab5e80d51d6"
url='https://accounts.spotify.com/authorize' +
  '?response_type=code' +
  '&client_id=' + my_client_id +
  (scopes ? '&scope=' + encodeURIComponent(scopes) : '') +
  '&redirect_uri=' + encodeURIComponent(redirect_uri);
  // window.open(url);
	
	
	/*var xhr = new XMLHttpRequest()
	xhr.open('GET', url, true)
	xhr.withCredentials = true
	xhr.onreadystatechange = function() {
	if (xhr.readyState === 2) {// do something}
	var resultss= "";
	}else if (this.readyState == 4 && this.status == 200) {
	// Typical action to be performed when the document is ready:
	var results= "";
	}
	xhr.setRequestHeader('Content-Type', 'application/json')
	xhr.send()
	}*/
	
			/*var clientId = "7850e064845b4565aa3a1ab5e80d51d6";
			var clientSecret = "b60556d2bb4f47a0acd35ba9ab0083db";		
			var authorizationBasic = window.btoa(clientId + ':' + clientSecret);
			var params = "grant_type=client_credentials";
			var request = new XMLHttpRequest();
			request.open('POST', "https://accounts.spotify.com/api/token", true);	
			request.withCredentials = true;		
			request.setRequestHeader('Access-Control-Allow-Origin', '*');
			request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
			request.setRequestHeader('Authorization', 'Basic ' + authorizationBasic);
			request.send(params);

			request.onreadystatechange = function () {
				if (request.readyState === 4) {
				   alert(request.responseText);
				}
			};*/
			var data = "grant_type=client_credentials&undefined=";

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "https://accounts.spotify.com/api/token");
xhr.setRequestHeader("Authorization", "Basic Nzg1MGUwNjQ4NDViNDU2NWFhM2ExYWI1ZTgwZDUxZDY6YjYwNTU2ZDJiYjRmNDdhMGFjZDM1YmE5YWIwMDgzZGI=");
xhr.setRequestHeader("cache-control", "no-cache");
xhr.setRequestHeader("Postman-Token", "17bf10e8-ddb0-4a4b-b5a6-13c0501de392");

xhr.send(data);
}
catch(error){
	alert(error.message);
	
}
  </script>
  </body>
</html>
